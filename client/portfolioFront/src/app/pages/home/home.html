<main class="main-content">
    <section class="hero">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">
                    <span class="greeting">{{ dataobject.greeting }}</span>
                    <span class="name">{{ dataobject.name }}</span>
                    <span class="role">{{ dataobject.title }}</span>
                </h1>
                <p class="hero-description">{{ dataobject.heroDescription }}</p>
                <div class="hero-buttons">
                    <a routerLink="/projects" class="btn btn-primary">View My Work</a>
                    <a routerLink="/contact" class="btn btn-secondary">Get In Touch</a>
                </div>
            </div>
            <div class="hero-visual">
                <div class="floating-elements">
                    <div class="floating-icon" style="--delay: 0s;"><img src="Angular.svg" alt="Angular"></div>
                    <div class="floating-icon" style="--delay: 1s;"><img src="express-js.png" alt="ExpressJS"></div>
                    <div class="floating-icon" style="--delay: 2s;"><img src="icons8-nodejs-48.png" alt="NodeJS" width="45" height="50"></div>
                    <div class="floating-icon" style="--delay: 3s;"><img src="mongo.png" alt="MongoDB" width="45" height="50"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- ============================================= -->
    <!-- === DYNAMIC FEATURED PROJECTS SECTION === -->
    <!-- ============================================= -->
    <section class="featured-work">
        <div class="container">
            <h2 class="section-title">Featured Projects</h2>

            <!-- Add loading and error states for better UX -->
            <div *ngIf="isLoadingProjects">Loading projects...</div>
            <div *ngIf="!isLoadingProjects && featuredProjects.length === 0">No projects to display.</div>

            <div class="projects-grid" *ngIf="!isLoadingProjects && featuredProjects.length > 0">
                <!-- Use *ngFor to loop through the featuredProjects array -->
                <div class="project-card" *ngFor="let project of featuredProjects">
                    <div class="project-image" [style.background-image]="'url(' + project.imgsUrl + ')'">
                        <!-- Fallback content if image doesn't load -->
                        <span *ngIf="!project.imgsUrl">ðŸš€</span>
                    </div>
                    <div class="project-content">
                        <h3 class="project-title">{{ project.title }}</h3>
                        <p class="project-description">{{ project.description }}</p>
                        <div class="project-tech" *ngIf="project.technologies && project.technologies.length > 0">
                            <span class="tech-tag" *ngFor="let tech of project.technologies">{{ tech }}</span>
                        </div>
                        <div class="project-links">
                            <a *ngIf="project.githubUrl" [href]="project.githubUrl" target="_blank" class="project-link">GitHub</a>
                            <a *ngIf="project.liveDemoUrl" [href]="project.liveDemoUrl" target="_blank" class="project-link">Live Demo</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center">
                <a routerLink="/projects" class="btn btn-outline">View All Projects</a>
            </div>
        </div>
    </section>

    <!-- ============================================= -->
    <!-- === DYNAMIC SKILLS PREVIEW SECTION === -->
    <!-- ============================================= -->
    <section class="skills-preview">
        <div class="container">
            <h2 class="section-title">Core Technologies</h2>

            <div *ngIf= "isLoadingSkills">Loading skills...</div>
            <div *ngIf="!isLoadingSkills && skills.length === 0">No skills to display.</div>

            <div class="skills-grid" *ngIf="!isLoadingSkills && skills.length > 0">
                <!-- Use *ngFor to loop through the skills array -->
                <div class="skill-item" *ngFor="let skill of skills">
                    <img [src]="skill.iconimgUrl" [alt]="skill.name + ' icon'" class="skill-icon">
                    <span class="skill-name">{{ skill.name }}</span>
                </div>
            </div>
        </div>
    </section>
</main>