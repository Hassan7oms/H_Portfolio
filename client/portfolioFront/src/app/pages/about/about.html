<main class="main-content">
    <section class="page-hero">
        <div class="container">
            <h1 class="page-title">About Me</h1>
            <p class="page-subtitle">{{ dataobject.aboutSubtitle }}</p>
        </div>
    </section>

    <section class="about-content">
        <div class="container">
            <div class="about-grid">
                <div class="about-text">
                    <div class="about-section">
                        <h2>My Story</h2>
                        <p>{{ dataobject.aboutStory }}</p>
                    </div>
                    <div class="about-section">
                        <h2>What I Do</h2>
                        <p>{{ dataobject.WhatIDo }}</p>
                    </div>
                    <div class="about-section">
                        <h2>My Approach</h2>
                        <p>{{ dataobject.myApproach }}</p>
                    </div>
                </div>
                <div class="about-visual">
                    <div class="profile-card">
                        <div class="profile-image">
                            <div class="image-placeholder"><span>üë®‚Äçüíª</span></div>
                        </div>
                        <div class="profile-stats">
                            <div class="stat">
                                <span class="stat-number">{{ dataobject.yearsExperience }}</span>
                                <span class="stat-label">Years Experience</span>
                            </div>
                            <div class="stat">
                                <span class="stat-number">{{ dataobject.projectsCompleted }}</span>
                                <span class="stat-label">Projects Completed</span>
                            </div>
                            <div class="stat">
                                <span class="stat-number">+{{ dataobject.happyClients }}</span>
                                <span class="stat-label">Happy Clients</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ============================================= -->
    <!-- === DYNAMIC SKILLS SECTION === -->
    <!-- ============================================= -->
    <section class="skills-section">
        <div class="container">
            <h2 class="section-title">Technical Skills</h2>
            <div *ngIf="isLoadingSkills">Loading skills...</div>
            <div *ngIf="!isLoadingSkills && skills.length === 0">No skills to display.</div>
            
            <div class="skills-categories" *ngIf= "!isLoadingSkills && skills.length > 0">
                <!-- Loop through the categories (e.g., 'Frontend', 'Backend') -->
                <div class="skill-category" *ngFor="let category of skillCategories">
                    <h3>{{ category }}</h3>
                    <div class="skill-list">
                        <!-- Loop through the skills within that category -->
                        <div class="skill-item" *ngFor= "let skill of skillsByCategory[category]">
                            <img [src]="skill.iconimgUrl" [alt]="skill.name + ' icon'" class="skill-icon-img">
                            <span class="skill-name">{{ skill.name }}</span>
                            <!-- Optional: Display skill level -->
                            <div class="skill-level-bar-container">
                                <div class="skill-level-bar" [style.width.%]="skill.level"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ============================================= -->
    <!-- === DYNAMIC EXPERIENCE SECTION === -->
    <!-- ============================================= -->
    <section class="experience-section">
        <div class="container">
            <h2 class="section-title">Experience</h2>
            <div *ngIf="isLoadingExperience">Loading experience...</div>
            <div *ngIf="!isLoadingExperience && experiences.length === 0">No experience to display.</div>
            
            <div class="timeline" *ngIf="!isLoadingExperience && experiences.length > 0">
                <!-- Loop through the experiences array -->
                <div class="timeline-item" *ngFor="let exp of experiences; let i = index" [ngClass]="{ 'odd': i % 2 === 0, 'even': i % 2 !== 0 }">
                    <div class="timeline-content">
                        <h3 class="experience-title">{{ exp.jobTitle }}</h3>
                        <p class="experience-company">{{ exp.companyName }}</p>
                        <p class="experience-description">{{ exp.responsibilities }}</p>
                    </div>
                    <!-- Use Angular's DatePipe to format the dates -->
                    <div class="timeline-date">
                        {{ exp.startDate | date: 'MMM yyyy' }} - {{ exp.endDate ? (exp.endDate | date: 'MMM yyyy') : 'Present' }}
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>